databaseChangeLog:
  - changeSet:
      id: 009-insert-arrival-times
      author: vlad
      comment: "Inserting initial arrival time data for testing"
      context: "!prod"
      changes:
        # Arrival time for DoubleTree by Hilton Minsk
        - insert:
            tableName: arrival_times
            schemaName: public
            columns:
              - column:
                  name: id
                  valueComputed: "(SELECT id FROM hotels WHERE name = 'DoubleTree by Hilton Minsk')"
              - column:
                  name: check_in
                  value: "14:00"
              - column:
                  name: check_out
                  value: "12:00"

        # Arrival time for Waldorf Astoria by Hilton Minsk
        - insert:
            tableName: arrival_times
            schemaName: public
            columns:
              - column:
                  name: id
                  valueComputed: "(SELECT id FROM hotels WHERE name = 'Waldorf Astoria by Hilton Minsk')"
              - column:
                  name: check_in
                  value: "15:00"
              - column:
                  name: check_out
                  value: "12:00"

        # Arrival time for Hampton by Hilton Minsk
        - insert:
            tableName: arrival_times
            schemaName: public
            columns:
              - column:
                  name: id
                  valueComputed: "(SELECT id FROM hotels WHERE name = 'Hampton by Hilton Minsk')"
              - column:
                  name: check_in
                  value: "15:00"
              - column:
                  name: check_out
                  value: "12:00"
        
        # Arrival time for Marriott Moscow
        - insert:
            tableName: arrival_times
            schemaName: public
            columns:
              - column:
                  name: id
                  valueComputed: "(SELECT id FROM hotels WHERE name = 'Marriott Moscow')"
              - column:
                  name: check_in
                  value: "15:00"
              - column:
                  name: check_out
                  value: "12:00"
        
        # Arrival time for Radisson Blu Istanbul
        - insert:
            tableName: arrival_times
            schemaName: public
            columns:
              - column:
                  name: id
                  valueComputed: "(SELECT id FROM hotels WHERE name = 'Radisson Blu Istanbul')"
              - column:
                  name: check_in
                  value: "14:00"
              - column:
                  name: check_out
                  value: "11:00"
      
      rollback:
        - delete:
            tableName: arrival_times
            schemaName: public
            where: "id IN (SELECT id FROM hotels WHERE name IN ('DoubleTree by Hilton Minsk', 'Waldorf Astoria by Hilton Minsk', 'Hampton by Hilton Minsk', 'Marriott Moscow', 'Radisson Blu Istanbul'))"
